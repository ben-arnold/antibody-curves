
R version 3.2.4 (2016-03-10) -- "Very Secure Dishes"
Copyright (C) 2016 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin13.4.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

[Previously saved workspace restored]

> #-------------------------------
> # 9-garki-cvSL-figure.R
> #
> # plot cross-validated risk
> # from the super learner
> # and consituent algorithms
> #-------------------------------
> 
> 
> 
> #-------------------------------
> # preamble
> #-------------------------------
> rm(list=ls())
> library(SuperLearner)
Loading required package: nnls
Super Learner
Version: 2.0-15
Package created on 2014-07-16

Use SuperLearnerNews() to see changes from previous versions and latest news

> # library(ggplot2)
> library(RColorBrewer)
> 
> source("~/SLAbcurves/src/plot_slab_cvSL.R")
> 
> #-------------------------------
> # load the results
> #-------------------------------
> load("~/dropbox/articles/antibody-curves/results/raw/garki-cvSL.RData")
> 
> 
> #-------------------------------
> # get summary estimates
> #-------------------------------
> 
> # summary estimates for intervention round 5 (no covariates)
> summary(cv.tfit)

Call:  
CV.SuperLearner(Y = fitd$Y, X = X, V = V, family = family, SL.library = SL.library,  
    id = fitd$id, control = list(saveFitLibrary = TRUE)) 

Risk is based on: Mean Squared Error

All risk estimates are based on V =  10 

                Algorithm     Ave       se     Min     Max
            Super Learner 0.40728 0.038517 0.34079 0.55895
              Discrete SL 0.40859 0.040130 0.33975 0.57267
              SL.mean_All 1.31569 0.056732 1.03838 1.57455
               SL.glm_All 0.88967 0.038337 0.69199 1.03059
             SL.loess_All 0.52625 0.034122 0.42613 0.62700
               SL.gam_All 0.64910 0.031947 0.57131 0.71406
 SL.randomForest.ns40_All 0.40859 0.040130 0.33975 0.57267
          SL.Yman2016_All 0.92855 0.090755 0.54726 1.62569
> 
> # summary estimates for multivariate example (round 3-5)
> summary(cv.mfit)

Call:  
CV.SuperLearner(Y = fitd$Y, X = X, V = V, family = family, SL.library = SL.library,  
    id = fitd$id, control = list(saveFitLibrary = TRUE)) 

Risk is based on: Mean Squared Error

All risk estimates are based on V =  10 

                Algorithm     Ave       se     Min     Max
            Super Learner 0.63871 0.014476 0.58271 0.70883
              Discrete SL 0.63871 0.014531 0.58278 0.70884
              SL.mean_All 1.15552 0.026315 1.05027 1.31107
               SL.glm_All 0.91286 0.019107 0.83349 1.01078
             SL.loess_All 0.79786 0.015856 0.73121 0.89191
               SL.gam_All 0.79210 0.016472 0.72107 0.88714
 SL.randomForest.ns35_All 0.63871 0.014531 0.58278 0.70884
          SL.Yman2016_All 1.00135 0.026360 0.88972 1.11124
> 
> # plot the estimates
> pdf("~/dropbox/articles/antibody-curves/results/figs/miton-cvSL-age.pdf")
> plot_slab_cvSL(cv.tfit,title="P. falciparum, high transmission (age only)")
Loading required package: ggplot2
> dev.off()
null device 
          1 
> pdf("~/dropbox/articles/antibody-curves/results/figs/miton-cvSL-mv.pdf")
> plot_slab_cvSL(cv.mfit,title="P. falciparum, high transmission (multivariate)")
> dev.off()
null device 
          1 
> 
> 
> 
> 
> 
> proc.time()
   user  system elapsed 
 17.933   1.556  20.332 
